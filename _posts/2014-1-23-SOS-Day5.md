---
layout: post
title: Day5
tags:
  - SOS
---

成功运行第一个程序 黑屏, 撒花庆祝  
<!-- more -->
`make img` 生成镜像文件, 然后查看内容.  
```
cat boot.img|hexdump -C
cat SOS.sys|hexdump
```
在 `boot.img` 中查找 `SOS.sys` 的内容.  
```
00002640  53 4f 53 20 20 20 20 20  53 59 53 20 10 55 b0 a3  |SOS     SYS .U..|
*
00005800  b0 13 b4 00 cd 10 f4 eb  fd 00 00 00 00 00 00 00  |................|
```
`SOS.sys` 文件名存在 `2640h` 以后, 文件内容存在 `5800h` 以后.  
`8000h + 5800h = d800h`, 所以 `SOS.asm` 的开头部分写上 `org d800h`, `SOSipl.asm` 中添加 `jmp d800h`.  
P.S. 由于临时文件的存在, 不同环境下文件位置可能有所不同, 需要进行修改.
